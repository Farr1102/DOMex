<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<style>
  table {
    border: 1px solid #aaa;
    text-align: center;
    vertical-align: center;
    border-collapse: collapse;
    width: 600px;
  }

  td,
  th {
    border: 1px solid black
  }

  table tbody tr>td:last-child {
    background-color: yellow;
  }

  table tfoot tr>td:last-child {
    background-color: #fab;
  }
</style>

<body>
  <table id="data">
    <thead>
      <tr>
        <th>商品名称</th>
        <th>单价</th>
        <th>数量</th>
        <th>小计</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td>iPhone6</td>
        <td>¥4488.00</td>
        <td>
          <button>－</button>
          <span>1</span>
          <button>＋</button>
        </td>
        <td>¥4488.00</td>
      </tr>
      <tr>
        <td>iPhone7</td>
        <td>¥5288.00</td>
        <td>
          <button>－</button>
          <span>1</span>
          <button>＋</button>
        </td>
        <td>¥5288.00</td>
      </tr>
      <tr>
        <td>iPhone8</td>
        <td>¥4288.00</td>
        <td>
          <button>－</button>
          <span>1</span>
          <button>＋</button>
        </td>
        <td>¥4288.00</td>
      </tr>
    </tbody>
    <tfoot>
      <tr>
        <td colspan="3" style="text-align: right;">Total:</td>
        <td>¥14064.00</td>
      </tr>
    </tfoot>

  </table>
  <script>
    var table = document.body.firstElementChild;
    var btns = table.getElementsByTagName("button");
    for (var btn of btns) {
      btn.onclick = function () {
        // this.innerHTML="❀";
        var span = this.parentElement.children[1]
        var n = parseInt(span.innerHTML);
        // console.log(n)
        if (this.innerHTML == "＋") {
          n++;
        } else if (n > 1) {
          n--;
        }
        span.innerHTML = n;
        //找到price
        var price = parseFloat(this.parentElement.previousElementSibling.innerHTML.slice(1));
        // console.log(price);
        var subTd = this.parentElement.nextElementSibling;
        // console.log(subTd)
        var sub = price * n;
        subTd.innerHTML = `¥${sub.toFixed(2)}`;


        var lastTd = table.querySelectorAll("tbody td:last-child");
        var total = table.querySelector("tfoot td:last-child");
        // console.log(lastTd);
        // console.log(total);
        var a = 0;
        for (var key of lastTd) {
          a += parseFloat(key.innerHTML.slice(1));
          // console.log(a)
        }
        total.innerHTML = `¥${a.toFixed(2)}`
      }
    }
  </script>
</body>

</html>

</html>